import ShoppingCartOutlinedIcon from "@mui/icons-material/ShoppingCartOutlined";
import createHistory from "history/createBrowserHistory";
import React from "react";

import { Link, Route, Router, Switch } from "react-router-dom";
import { Button } from "@mui/material";
import "./App.css";

import { PageMain } from "./pages/Categories";
import { Login } from "./pages/Login";
import { Register } from "./pages/Register";
import { PageCategory } from "./pages/PageCategory";
import { PageGood } from "./pages/PageGood";
import { History } from "./pages/History";
import { AdminPage } from "./pages/AdminPage.js";
import Header from "./pages/Header";
import { Cart, CartEmpty } from "./pages/Cart";
import { Order } from "./pages/Order.js";
import { Orders } from "./pages/Orders.js";
import { api, store } from "./APIpages/api.js";
import { ProtectedRoute } from "./pages/ProtectedRoute.js";
import { GoodsSearch } from "./pages/GoodsSearch.js";

const history = createHistory();

console.log(api);
const { useGetRootCatsQuery } = api;

// const CartIcon = () => (
//   <svg
//     width="1em"
//     height="1em"
//     fill="none"
//     viewBox="0 0 160 160"
//     data-testid="SvgPromEmptyBasket"
//     data-qaid="SvgPromEmptyBasket"
//     focusable="false"
//     aria-hidden="true"
//     tabindex="-1"
//     class="_2uocW"
//     style={{ width: "160px", height: "160px" }}
//   >
//     <g clip-path="url(#PromEmptyBasket__a)">
//       <path
//         fill="#01011B"
//         d="M132.26 47.63c4.51-9.73 5.7-20.71 3.34-31.18-.35-1.57-2.76-.9-2.41.66 2.2 9.77 1.12 20.16-3.09 29.26-.67 1.45 1.48 2.72 2.16 1.26ZM137.7 13.39c.32-1.28.49-2.6.48-3.92 0-.65-.57-1.28-1.25-1.25-.68.03-1.25.55-1.25 1.25 0 .66-.04 1.32-.13 1.98l.04-.33c-.07.54-.18 1.08-.31 1.61-.16.63.21 1.39.87 1.54.66.15 1.37-.19 1.54-.87l.01-.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M135.83 13.4c0-1.4-.08-2.8-.22-4.19-.03-.34-.12-.63-.37-.88-.22-.22-.57-.38-.88-.37-.62.03-1.32.55-1.25 1.25.14 1.39.21 2.79.22 4.19 0 .65.57 1.28 1.25 1.25.68-.03 1.25-.55 1.25-1.25Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M133.51 13.28c-.08-1.23-.34-2.45-.51-3.67l.04.33s0-.07-.01-.11c-.04-.34-.11-.63-.37-.88-.22-.22-.57-.38-.88-.37-.31.01-.66.12-.88.37-.21.23-.41.56-.37.88.12.94.3 1.88.42 2.82l-.04-.33c.04.32.08.64.1.96.02.32.13.64.37.88.22.22.57.38.88.37.64-.03 1.29-.55 1.25-1.25Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M131.87 13.66a8.033 8.033 0 0 0-3.23.29c-.31.09-.58.3-.75.57-.17.27-.22.66-.13.96.09.3.29.59.57.75.28.16.64.22.96.13.36-.11.73-.19 1.11-.24l-.33.04a6.63 6.63 0 0 1 1.78 0c.29.04.68-.17.88-.37.22-.22.38-.57.37-.88-.01-.31-.12-.66-.37-.88l-.25-.2c-.19-.11-.41-.17-.63-.17h.02Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M135.23 12.66c.69.17 1.41.57 1.7 1.34.09.24.14.52.08.77-.06.28-.34.64-.53.82-.98.89-2.38.95-3.5.38-.35-.18-.71-.47-.93-.84-.22-.37.04-1.51.04-1.51s.51-.53.86-.78c.43-.3 1.48-.38 2.28-.18Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M134.9 13.86c.14.04.28.08.42.13.12.04-.15-.07-.14-.06.03.02.09.04.12.06l.21.12c-.15-.15.24.16 0 0l.15.15c-.15-.23.14.14 0 0 .03.05.17.33.09.15-.08-.18.01.09.03.13.05.12-.02-.09 0-.12 0 0 .01.17 0 .18-.01 0 .04-.24.01-.13-.03.12.07-.15.07-.14-.06.08-.1.18-.15.26-.11.19.16-.17.01-.02-.05.05-.1.11-.16.16-.03.02-.07.05-.09.08 0 0 .21-.15.1-.08-.08.05-.17.11-.25.16-.07.04-.16.07-.23.12 0 0 .26-.09.13-.06-.03.01-.07.03-.1.04-.16.05-.33.08-.49.12.02 0 .32-.03.12-.02h-.33c-.08 0-.17-.02-.25-.02-.01 0 .29.05.15.02l-.18-.03c-.16-.03-.3-.09-.46-.14-.13-.04.13.06.13.06-.03-.02-.07-.03-.1-.05-.09-.04-.18-.09-.27-.14-.04-.03-.25-.18-.1-.06.16.13-.08-.08-.12-.11-.03-.03-.05-.06-.08-.09-.11-.09.09.09.07.1-.02 0-.08-.14-.09-.14 0 0 .13.33.08.19 0-.02 0-.05-.02-.06-.04-.08.02.35.02.16v-.19c0-.14.02-.28.03-.42-.04.48 0 .05.02-.08 0-.05.02-.1.03-.15l-.32.55c.12-.12.24-.24.37-.36.11-.1.22-.19.32-.29.08-.07-.27.18-.04.04.11-.07.22-.04-.1.03.12-.03.24-.08.37-.1.05 0 .09-.02.14-.02-.2.03-.25.03-.15.02.09 0 .18-.01.27-.02.16 0 .32 0 .47.01.05 0 .11 0 .16.02l-.18-.02c.06.04.23.04.3.06.64.15 1.38-.2 1.54-.87.15-.64-.19-1.38-.87-1.54-.78-.18-1.56-.2-2.34-.04-.66.13-1.17.51-1.65.96-.32.3-.63.61-.72 1.06-.09.45-.18.97-.13 1.45.04.4.14.74.38 1.07.29.39.63.71 1.05.97.63.39 1.36.59 2.09.65 1.43.12 3.07-.62 3.75-1.93.54-1.04.25-2.19-.47-3.05-.49-.59-1.23-.96-1.96-1.15-.63-.16-1.39.21-1.54.87-.15.66.19 1.37.87 1.54l.01.01Z"
//       ></path>
//       <path
//         fill="#fff"
//         d="M116.245 18.993 52.47 36.596l18.627 67.487 63.775-17.603-18.627-67.487Z"
//       ></path>
//       <path
//         fill="#5C17AD"
//         d="m100.36 29.5 12.56 44.98 14.01 3.4-14.39-52.7-12.18 4.33v-.01Z"
//       ></path>
//       <path
//         fill="#51317C"
//         d="m126.59 77.71-13.63-3.28-50.53 19 13.9 3.39 50.85-18.6-.59-.5v-.01Z"
//       ></path>
//       <path
//         fill="#FFC9A4"
//         d="m75.03 99.09 53.87-20.13-15.34-55.58-53.83 20.3L75.02 99.1l.01-.01Z"
//         opacity="0.75"
//       ></path>
//       <path
//         fill="url(#PromEmptyBasket__b)"
//         fill-opacity="0.85"
//         d="m75.03 100.91 39.63-78.22 16.79 60.28-56.41 17.94h-.01Z"
//         opacity="0.65"
//       ></path>
//       <path
//         fill="url(#PromEmptyBasket__c)"
//         fill-opacity="0.7"
//         d="m80.35 103.52 39.76-78.26 16.78 60.28-56.54 17.97v.01Z"
//         opacity="0.65"
//       ></path>
//       <path
//         fill="#8B08F9"
//         d="m45.74 36.96 21.68 78.57 75.97-28.5-21.68-78.59-75.97 28.52Zm16.07 7.54 50.62-19 14.45 52.37-50.62 19L61.81 44.5Z"
//       ></path>
//       <path
//         fill="#A140FF"
//         d="m45.74 36.99-13.9-3.47L107.7 5l14.01 3.44-75.97 28.55Z"
//       ></path>
//       <path
//         fill="#B87BFF"
//         d="m31.85 33.52 13.88 3.43 21.69 78.58-13.93-3.5-21.64-78.52v.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M109.59 49.7c-4.65-1.05-9.13 1.17-12.13 4.68l1.07.44c.09-1.64.72-3.22 1.81-4.44 1.14-1.28 2.52-2.16 4.09-2.84.74-.32.1-1.4-.63-1.08-1.77.77-3.32 1.83-4.58 3.31-1.19 1.4-1.84 3.22-1.94 5.05-.03.52.72.85 1.07.44 2.69-3.15 6.69-5.31 10.91-4.36.78.18 1.12-1.03.33-1.21v.01ZM77.51 66.02c1.69-3.97 5.72-6.04 9.88-6.37.61-.05.85-.81.32-1.16-1.5-.97-3.37-1.51-5.15-1.36-1.98.16-3.75.8-5.45 1.8-.69.41-.06 1.49.63 1.08 1.5-.89 3.07-1.49 4.82-1.63 1.59-.13 3.18.32 4.52 1.19l.32-1.16c-4.56.36-9.09 2.61-10.96 6.99-.31.73.76 1.37 1.08.63l-.01-.01ZM87.43 67.9a2.492 2.492 0 0 0-.09.266c-.955 3.176.411 6.396 3.054 7.195 2.642.8 5.562-1.132 6.517-4.308.045-.133.056-.277.09-.41L87.428 67.9Z"
//       ></path>
//       <path
//         fill="#FF5252"
//         d="M91.526 71.186c1.532.556 2.632 1.988 2.776 3.498-1.2.8-2.61 1.133-4.23.588-1.533-.555-2.51-2.098-2.82-3.353 1.132-.888 2.842-1.254 4.274-.733Z"
//       ></path>
//       <path
//         fill="#F97878"
//         d="M76.11 74.85a2.65 2.65 0 1 0 .99-5.21 2.65 2.65 0 1 0-.99 5.21ZM111.54 59.15a2.65 2.65 0 1 0 .99-5.21 2.65 2.65 0 1 0-.99 5.21Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M52.75 83.04A48.687 48.687 0 0 0 28.02 63.8c-1.52-.53-2.18 1.89-.66 2.41 9.48 3.28 17.73 9.71 23.24 18.09.88 1.34 3.05.09 2.16-1.26h-.01ZM24.64 64.85c-1.13-.18-2.24-.49-3.29-.93l.3.13c-.06-.03-.12-.05-.18-.08-.32-.14-.61-.22-.96-.13-.29.08-.6.3-.75.57-.15.29-.23.64-.13.96.09.29.28.62.57.75 1.22.53 2.46.93 3.77 1.14.34.05.65.06.96-.13.26-.15.51-.45.57-.75.07-.32.06-.68-.13-.96-.17-.26-.43-.52-.75-.57h.02Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M26 63.35c-1.29-.56-2.54-1.17-3.77-1.85-.57-.32-1.39-.16-1.71.45-.32.61-.16 1.37.45 1.71 1.23.68 2.48 1.3 3.77 1.85.32.14.61.22.96.13.29-.08.6-.3.75-.57.15-.29.23-.64.13-.96-.09-.29-.28-.62-.57-.75l-.01-.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M26.81 61.17c-1.04-.52-1.98-1.21-2.98-1.8-.28-.16-.65-.21-.96-.13-.29.08-.6.3-.75.57-.32.6-.15 1.35.45 1.71 1 .59 1.94 1.28 2.98 1.8.3.15.63.22.96.13.29-.08.6-.3.75-.57.15-.29.23-.64.13-.96-.1-.3-.28-.6-.57-.75h-.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M29.03 62.87c.08-.27.17-.53.27-.78l-.13.3c.23-.55.53-1.07.9-1.54l-.2.25c.06-.08.13-.16.19-.24.22-.26.37-.53.37-.88 0-.31-.14-.67-.37-.88-.23-.21-.55-.38-.88-.37-.31.01-.67.12-.88.37-.77.92-1.35 1.96-1.69 3.11-.09.31-.04.69.13.96.15.26.45.51.75.57.32.07.68.06.96-.13.28-.19.48-.43.57-.75l.01.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M24.44 64.74c-.12.7-.03 1.52.56 2.09.19.18.42.33.68.38.28.05.73-.06.96-.16 1.21-.55 1.81-1.81 1.72-3.07-.03-.4-.15-.84-.4-1.19s-1.4-.56-1.4-.56-.69.26-1.05.49c-.45.28-.93 1.21-1.07 2.03v-.01Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M23.23 64.4c-.13.85-.1 1.64.26 2.43.34.74 1.05 1.39 1.85 1.57 1.51.34 3.12-.79 3.77-2.1.32-.64.5-1.33.51-2.06.01-.81-.21-1.78-.79-2.37-.4-.41-.97-.62-1.51-.77-.4-.11-.82-.21-1.22-.05-.63.25-1.32.5-1.78 1.03-.56.64-.94 1.47-1.09 2.31-.06.34-.05.66.13.96.15.26.45.51.75.57.61.14 1.41-.18 1.54-.87.03-.17.07-.34.12-.51l.09-.27c-.12.24.08-.23 0 0 .07-.14.14-.27.22-.4.04-.06.09-.11.12-.18-.13.16-.15.2-.07.1.02-.02.04-.04.06-.07.15-.18-.16.09-.08.05.06-.03.12-.07.18-.1.12-.06.24-.12.36-.17.08-.04.32-.12-.07.03.05-.02.1-.04.14-.06.05-.02.11-.04.16-.06h-.66c.13.02.26.05.38.09.11.03.22.06.33.1l.18.06c.16.05-.3-.15-.06-.02.04.02.08.06.12.07-.27-.1-.23-.2-.15-.12.03.03.08.09-.04-.05-.18-.23.08.12.06.13 0 0-.09-.24-.05-.11.02.06.04.13.06.19.02.08.04.15.05.23-.02-.27.05.22 0 0 .01.17 0 .33 0 .5-.03.3.05-.23 0-.02-.02.08-.03.16-.05.24-.02.07-.04.14-.06.2-.01.04-.03.09-.05.13-.04.15.12-.24.05-.11-.07.15-.14.29-.24.43-.03.04-.17.24-.05.07.12-.17-.07.07-.11.11-.06.06-.12.11-.18.17-.16.15.21-.14.03-.02-.07.05-.14.09-.22.13-.06.03-.35.17-.14.08.21-.09-.06 0-.11.02-.07.02-.15.02-.22.05.04-.01.3 0 .11-.02-.05 0-.17-.02.03.02s.07.01.02 0c-.21-.06.16.11.04.02a.53.53 0 0 0-.1-.06c.04 0 .2.18.07.05-.07-.07-.14-.16-.22-.23.03.02.16.24.06.07-.02-.04-.05-.09-.07-.13-.02-.04-.07-.16 0 .02.08.2 0 0-.01-.05-.03-.09-.03-.2-.07-.28 0 0 .03.29.02.15 0-.05 0-.1-.01-.14v-.39c.01-.26-.05.31 0 .06.05-.34.06-.65-.13-.96-.15-.26-.45-.51-.75-.57-.6-.14-1.43.18-1.54.87l.03.01ZM117.6 91.61a86.715 86.715 0 0 1 15.89-27.89c.51-.6.49-1.53-.25-1.96-1.81-1.05-3.62-2.1-5.42-3.15-1.39-.81-2.65 1.35-1.26 2.16 1.81 1.05 3.62 2.1 5.42 3.15l-.25-1.96a89.62 89.62 0 0 0-16.53 28.99c-.52 1.52 1.89 2.18 2.41.66h-.01ZM102.59 98.26a86.318 86.318 0 0 1 7.79-31.12c.33-.71.1-1.62-.75-1.84-2.02-.52-4.05-1.05-6.07-1.57-1.56-.4-2.22 2.01-.66 2.41 2.02.52 4.05 1.05 6.07 1.57l-.75-1.84a89.79 89.79 0 0 0-8.13 32.38c-.09 1.61 2.41 1.6 2.5 0v.01Z"
//       ></path>
//       <path
//         fill="#C1C1D4"
//         d="M61.64 130.27c-2.42-7.41-4.85-14.81-7.27-22.22-1.54-4.72-3.09-9.44-4.63-14.16L48.47 90c-.07-.2-.12-.42-.2-.62-.39-.94-1.04-1.24-1.91-1.49-4.47-1.29-8.94-2.59-13.41-3.88-2.32-.67-3.31 2.94-1 3.62 4.67 1.35 9.34 2.71 14.01 4.06l-1.31-1.31c1.51 4.6 3.01 9.2 4.52 13.8 2.4 7.34 4.8 14.68 7.2 22.01.55 1.69 1.11 3.38 1.66 5.07.75 2.28 4.37 1.31 3.62-1l-.01.01Z"
//       ></path>
//       <path
//         fill="#C1C1D4"
//         d="M61 129.75c1.03.13.62.85.55.25-.03-.28-.19-.59-.27-.85l-.92-2.88-2.98-9.33c-2.26-7.06-4.51-14.12-6.77-21.18-.53-1.67-1.32-3.42-1.58-5.16v1c-.04.22-1.03.16 0 .16h86.34c1.09 0 2.41.2 3.48 0 .42-.08-.36.41-.44-.13v-1c-.41 2.27-1.53 4.57-2.29 6.74-1.55 4.43-3.1 8.86-4.65 13.28-1.3 3.72-2.6 7.43-3.9 11.15-.05.13-.77 1.87-.68 1.94-.13-.11 1.01-.38.8-.56-.03-.02-.18.02-.21.02-.24-.03-.54.05-.79.08-6.57.65-13.14 1.29-19.7 1.94-9.58.94-19.16 1.89-28.74 2.83-5.6.55-11.2 1.07-16.79 1.65-.15.02-.3.03-.45.04-2.38.21-2.41 3.97 0 3.75 6.35-.57 12.68-1.25 19.02-1.87l33.58-3.3c3.81-.37 7.61-.75 11.42-1.12.84-.08 1.68-.16 2.52-.25 1.61-.18 2.56-1.09 3.09-2.56 3.23-8.95 6.29-17.97 9.43-26.95l1.63-4.66c.09-.25.2-.5.27-.76.56-2.04-.91-3.9-2.97-4.01-1.49-.08-3.01 0-4.51 0H50.28c-.58 0-1.16-.02-1.74 0-2.27.1-3.58 2.05-3 4.2.9 3.3 2.09 6.56 3.14 9.82 3 9.39 6 18.78 9 28.16.55 1.72 1.25 3.04 3.32 3.31 1.01.13 1.88-.95 1.88-1.88 0-1.12-.87-1.75-1.88-1.88v.01Z"
//       ></path>
//       <path
//         fill="#C1C1D4"
//         d="M62.26 138.58v-8.18c0-.98-.86-1.92-1.88-1.88-1.02.04-1.88.82-1.88 1.88v8.18c0 .98.86 1.92 1.88 1.88 1.02-.04 1.88-.82 1.88-1.88ZM65.49 147h40.31c2.41 0 2.42-3.75 0-3.75H65.49c-2.41 0-2.42 3.75 0 3.75Z"
//       ></path>
//       <path
//         fill="#45455C"
//         d="M60.39 137.35c-4.29 0-7.77 3.49-7.77 7.78s3.49 7.77 7.77 7.77c4.28 0 7.78-3.49 7.78-7.77 0-4.28-3.49-7.78-7.78-7.78Z"
//       ></path>
//       <path
//         fill="#45455C"
//         d="M60.39 153.15c-4.42 0-8.02-3.6-8.02-8.02s3.6-8.03 8.02-8.03 8.03 3.6 8.03 8.03-3.6 8.02-8.03 8.02Zm0-15.55c-4.15 0-7.52 3.38-7.52 7.53s3.38 7.52 7.52 7.52 7.53-3.38 7.53-7.52-3.38-7.53-7.53-7.53Z"
//       ></path>
//       <path
//         fill="#E8E8F3"
//         d="M63.98 145.13c0-1.98-1.61-3.59-3.59-3.59-1.98 0-3.59 1.61-3.59 3.59 0 1.98 1.61 3.59 3.59 3.59 1.98 0 3.59-1.61 3.59-3.59Z"
//       ></path>
//       <path
//         fill="#45455C"
//         d="M108.15 137.35c-4.29 0-7.77 3.49-7.77 7.78s3.49 7.77 7.77 7.77c4.28 0 7.78-3.49 7.78-7.77 0-4.28-3.49-7.78-7.78-7.78Z"
//       ></path>
//       <path
//         fill="#45455C"
//         d="M108.16 153.15c-4.42 0-8.02-3.6-8.02-8.02s3.6-8.03 8.02-8.03 8.03 3.6 8.03 8.03-3.6 8.02-8.03 8.02Zm0-15.55c-4.15 0-7.52 3.38-7.52 7.53s3.38 7.52 7.52 7.52 7.53-3.38 7.53-7.52-3.38-7.53-7.53-7.53Z"
//       ></path>
//       <path
//         fill="#E8E8F3"
//         d="M111.74 145.13c0-1.98-1.61-3.59-3.59-3.59-1.98 0-3.59 1.61-3.59 3.59 0 1.98 1.61 3.59 3.59 3.59 1.98 0 3.59-1.61 3.59-3.59Z"
//       ></path>
//       <path
//         fill="#C1C1D4"
//         d="M83.04 128.55c-.91-10.92-1.83-21.84-2.74-32.75l-.39-4.69c-.2-2.39-3.95-2.41-3.75 0 .91 10.92 1.83 21.84 2.74 32.75l.39 4.69c.2 2.39 3.95 2.41 3.75 0ZM109.91 90.6c-.92 10.36-1.83 20.71-2.75 31.07l-.39 4.38c-.21 2.4 3.54 2.39 3.75 0 .92-10.36 1.83-20.71 2.75-31.07l.39-4.38c.21-2.4-3.54-2.39-3.75 0Z"
//       ></path>
//       <path
//         fill="#C1C1D4"
//         d="M53.35 107.99c9.22-.41 18.44-.82 27.66-1.24 14.69-.66 29.38-1.31 44.07-1.97l10.1-.45c2.4-.11 2.42-3.86 0-3.75-9.22.41-18.44.82-27.66 1.24-14.69.66-29.38 1.31-44.07 1.97l-10.1.45c-2.4.11-2.42 3.86 0 3.75ZM58.87 120.92c8.1-.5 16.2-1 24.3-1.49l38.72-2.38 8.86-.54c2.4-.15 2.41-3.9 0-3.75-8.1.5-16.2 1-24.3 1.49-12.91.79-25.81 1.59-38.72 2.38l-8.86.54c-2.4.15-2.41 3.9 0 3.75Z"
//       ></path>
//       <path
//         fill="#01011B"
//         d="M37.1 19.53h22.14c.8 0 .81-1.25 0-1.25H37.1c-.8 0-.81 1.25 0 1.25ZM42.38 23.16h9.91c.8 0 .81-1.25 0-1.25h-9.91c-.8 0-.81 1.25 0 1.25ZM17.6 103.76h24.45c.8 0 .81-1.25 0-1.25H17.6c-.8 0-.81 1.25 0 1.25ZM29.83 107.06h9.25c.8 0 .81-1.25 0-1.25h-9.25c-.8 0-.81 1.25 0 1.25ZM92.27 153.32h8.26c.8 0 .81-1.25 0-1.25h-8.26c-.8 0-.81 1.25 0 1.25ZM38.4 143.74h9.25c.8 0 .81-1.25 0-1.25H38.4c-.8 0-.81 1.25 0 1.25ZM41.37 146.38H46c.8 0 .81-1.25 0-1.25h-4.63c-.8 0-.81 1.25 0 1.25Z"
//       ></path>
//     </g>
//     <defs>
//       <linearGradient
//         id="PromEmptyBasket__b"
//         x1="66.416"
//         x2="123.01"
//         y1="69.632"
//         y2="54.012"
//         gradientUnits="userSpaceOnUse"
//       >
//         <stop offset="0.48" stop-color="#fff" stop-opacity="0.4"></stop>
//         <stop offset="0.61" stop-color="#fff" stop-opacity="0.29"></stop>
//         <stop offset="0.89" stop-color="#fff" stop-opacity="0.02"></stop>
//         <stop offset="0.92" stop-color="#fff" stop-opacity="0"></stop>
//       </linearGradient>
//       <linearGradient
//         id="PromEmptyBasket__c"
//         x1="71.732"
//         x2="128.46"
//         y1="72.242"
//         y2="56.584"
//         gradientUnits="userSpaceOnUse"
//       >
//         <stop offset="0.48" stop-color="#fff" stop-opacity="0.4"></stop>
//         <stop offset="0.61" stop-color="#fff" stop-opacity="0.29"></stop>
//         <stop offset="0.89" stop-color="#fff" stop-opacity="0.02"></stop>
//         <stop offset="0.92" stop-color="#fff" stop-opacity="0"></stop>
//       </linearGradient>
//       <clipPath id="PromEmptyBasket__a">
//         <path fill="#fff" d="M17 5h126.4v150.32H17z"></path>
//       </clipPath>
//     </defs>
//   </svg>
// );

const Aside = () => {
  const { isLoading, data } = useGetRootCatsQuery();
  console.log(isLoading, data);
  return isLoading ? (
    <h1>Loading...</h1>
  ) : (
    <aside>
      <ul>
        {data.CategoryFind.map((category) => (
          <li key={category._id}>
            <Link to={`/category/${category._id}`}>{category.name}</Link>
          </li>
        ))}
      </ul>
    </aside>
  );
};
const Page404 = () => <h1>404</h1>;
const Footer = () => <footer>created by me,August 2024</footer>;
const RoutesList = () => (
  <Switch>
    <Route path="/" component={PageMain} exact />
    <Route path="/cart" component={Cart} />
    <ProtectedRoute
      path="/history"
      user={["user"]}
      fallback={"/login"}
      component={History}
    />
    <Route path="/login" component={Login} />
    <Route path="/register" component={Register} />
    <Route path="/category/:_id" component={PageCategory} />
    <Route path="/good/:_id" component={PageGood} />
    <Route path="/goods/:search" component={GoodsSearch} />
    <ProtectedRoute
      path="/admin"
      user={["admin"]}
      fallback={"/"}
      component={AdminPage}
    />
    <Route path="*" component={Page404} />
  </Switch>
);
console.log(api);
store.subscribe(() => console.log(store.getState()));
function App() {
  return (
    <div className="App">
      <Router history={history}>
        <Header />
        <main>
          <Aside />
          <RoutesList />
        </main>
        <Footer />
      </Router>
    </div>
  );
}

export default App;
